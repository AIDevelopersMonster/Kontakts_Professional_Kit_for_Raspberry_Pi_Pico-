# Video https://youtu.be/2pRbEtfz0Os
# Post http://kontakts.ru/showthread.php/40884?p=86202#post86202
# Telega https://t.me/MrMicroPython
# üìú –õ–∏—Ü–µ–Ω–∑–∏—è üîó Creative Commons Attribution-ShareAlike 4.0 (CC BY-SA)
# üìÇ –û—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–π –∫–æ–¥ –¥–ª—è –ø–ª–∞—Ç—ã PicoMate https://wiki.deskpi.com/picomate/#pinout-diagram
import board  # –ò–º–ø–æ—Ä—Ç –º–æ–¥—É–ª—è –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ø–∏–Ω–∞–º–∏ –º–∏–∫—Ä–æ–∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–∞
import digitalio  # –ò–º–ø–æ—Ä—Ç –º–æ–¥—É–ª—è –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ü–∏—Ñ—Ä–æ–≤—ã–º–∏ –≤—Ö–æ–¥–∞–º–∏ –∏ –≤—ã—Ö–æ–¥–∞–º–∏

# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∫–Ω–æ–ø–∫–∏, –ø–æ–¥–∫–ª—é—á–µ–Ω–Ω–æ–π –∫ GPIO26
button = digitalio.DigitalInOut(board.GP26)  # –°–æ–∑–¥–∞–µ–º –æ–±—ä–µ–∫—Ç –∫–Ω–æ–ø–∫–∏, –ø—Ä–∏–≤—è–∑–∞–Ω–Ω—ã–π –∫ –ø–∏–Ω—É GP26
button.direction = digitalio.Direction.INPUT  # –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –ø–∏–Ω –∫–∞–∫ –≤—Ö–æ–¥ (INPUT)
button.pull = digitalio.Pull.UP  # –í–∫–ª—é—á–∞–µ–º –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π –ø–æ–¥—Ç—è–≥–∏–≤–∞—é—â–∏–π —Ä–µ–∑–∏—Å—Ç–æ—Ä (Pull.UP)

# –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –ø—Ä–µ–¥—ã–¥—É—â–µ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è –∫–Ω–æ–ø–∫–∏
last_value = button.value  # –°–æ—Ö—Ä–∞–Ω—è–µ–º –Ω–∞—á–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∫–Ω–æ–ø–∫–∏

# –ë–µ—Å–∫–æ–Ω–µ—á–Ω—ã–π —Ü–∏–∫–ª –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π —Å–æ—Å—Ç–æ—è–Ω–∏—è –∫–Ω–æ–ø–∫–∏
while True:
    if last_value != button.value:  # –ü—Ä–æ–≤–µ—Ä—è–µ–º, –∏–∑–º–µ–Ω–∏–ª–æ—Å—å –ª–∏ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∫–Ω–æ–ø–∫–∏
        last_value = button.value  # –û–±–Ω–æ–≤–ª—è–µ–º –ø—Ä–µ–¥—ã–¥—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∫–Ω–æ–ø–∫–∏
        if button.value:  # –ï—Å–ª–∏ –∑–Ω–∞—á–µ–Ω–∏–µ True (–∫–Ω–æ–ø–∫–∞ –æ—Ç–ø—É—â–µ–Ω–∞)
            print("Button is released")  # –í—ã–≤–æ–¥–∏–º —Å–æ–æ–±—â–µ–Ω–∏–µ "–ö–Ω–æ–ø–∫–∞ –æ—Ç–ø—É—â–µ–Ω–∞"
        else:  # –ï—Å–ª–∏ –∑–Ω–∞—á–µ–Ω–∏–µ False (–∫–Ω–æ–ø–∫–∞ –Ω–∞–∂–∞—Ç–∞)
            print("Button is pressed")  # –í—ã–≤–æ–¥–∏–º —Å–æ–æ–±—â–µ–Ω–∏–µ "–ö–Ω–æ–ø–∫–∞ –Ω–∞–∂–∞—Ç–∞"
