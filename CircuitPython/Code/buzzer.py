# Video https://youtu.be/Wl3WzcndqyE
# Post http://kontakts.ru/showthread.php/40884?p=86204#post86204
# Telega https://t.me/MrMicroPython
# üìú –õ–∏—Ü–µ–Ω–∑–∏—è üîó Creative Commons Attribution-ShareAlike 4.0 (CC BY-SA)
# üìÇ –û—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–π –∫–æ–¥ –¥–ª—è –ø–ª–∞—Ç—ã PicoMate https://wiki.deskpi.com/picomate/#pinout-diagram
import time  # –ò–º–ø–æ—Ä—Ç–∏—Ä—É–µ–º –º–æ–¥—É–ª—å –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –∑–∞–¥–µ—Ä–∂–∫–∞–º–∏
import board  # –ò–º–ø–æ—Ä—Ç–∏—Ä—É–µ–º –º–æ–¥—É–ª—å –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ø–∏–Ω–∞–º–∏ –º–∏–∫—Ä–æ–∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–∞
import pwmio  # –ò–º–ø–æ—Ä—Ç–∏—Ä—É–µ–º –º–æ–¥—É–ª—å –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –®–ò–ú (PWM)

# –û–ø—Ä–µ–¥–µ–ª—è–µ–º —Å–ø–∏—Å–æ–∫ —á–∞—Å—Ç–æ—Ç (–≤ –ì—Ü) –¥–ª—è –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è –º–µ–ª–æ–¥–∏–∏.
# –ö–∞–∂–¥–æ–µ —á–∏—Å–ª–æ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —á–∞—Å—Ç–æ—Ç–µ –∑–≤—É–∫–æ–≤–æ–π –≤–æ–ª–Ω—ã, 0 –æ–∑–Ω–∞—á–∞–µ—Ç –ø–∞—É–∑—É.
TONE_FREQ = [
    1047,   1047,   1568,   1568,   1760,   1760,   1568,   0,  # –§—Ä–∞–≥–º–µ–Ω—Ç 1
    1397,   1397,   1319,   1319,   1175,   1175,   1047,   0,  # –§—Ä–∞–≥–º–µ–Ω—Ç 2
    1568,   1568,   1397,   1397,   1319,   1319,   1175,   0,  # –§—Ä–∞–≥–º–µ–Ω—Ç 3
    1568,   1568,   1397,   1397,   1319,   1319,   1175,   0,  # –§—Ä–∞–≥–º–µ–Ω—Ç 4
    1047,   1047,   1568,   1568,   1760,   1760,   1568,   0,  # –§—Ä–∞–≥–º–µ–Ω—Ç 5
    1397,   1397,   1319,   1319,   1175,   1175,   1047,   0   # –§—Ä–∞–≥–º–µ–Ω—Ç 6
]

# –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø–∏—â–∞–ª–∫–∏ (buzzer), –ø–æ–¥–∫–ª—é—á–µ–Ω–Ω–æ–π –∫ GPIO27
# –ò—Å–ø–æ–ª—å–∑—É–µ–º –®–ò–ú (PWM) —Å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å—é –∏–∑–º–µ–Ω–µ–Ω–∏—è —á–∞—Å—Ç–æ—Ç—ã
buzzer = pwmio.PWMOut(board.GP27, variable_frequency=True)

# –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –Ω–∞—á–∞–ª—å–Ω—É—é —á–∞—Å—Ç–æ—Ç—É –∏–∑ —Å–ø–∏—Å–∫–∞
buzzer.frequency = TONE_FREQ[0]

# –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Å—Ä–µ–¥–Ω–µ–µ –∑–Ω–∞—á–µ–Ω–∏–µ —Å–∫–≤–∞–∂–Ω–æ—Å—Ç–∏ –®–ò–ú (–ø—Ä–∏–º–µ—Ä–Ω–æ 50%)
# –≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å —Å–ª—ã—à–∏–º—ã–π –∑–≤—É–∫.
buzzer.duty_cycle = 32768  # –ó–Ω–∞—á–µ–Ω–∏–µ –æ—Ç 0 –¥–æ 65535 (50% = 32768)

# –û—Å–Ω–æ–≤–Ω–æ–π –±–µ—Å–∫–æ–Ω–µ—á–Ω—ã–π —Ü–∏–∫–ª –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è –º–µ–ª–æ–¥–∏–∏
while True:
    for note in TONE_FREQ:  # –ü–µ—Ä–µ–±–∏—Ä–∞–µ–º –≤—Å–µ —á–∞—Å—Ç–æ—Ç—ã –∏–∑ —Å–ø–∏—Å–∫–∞
        if note:  # –ï—Å–ª–∏ —á–∞—Å—Ç–æ—Ç–∞ –Ω–µ —Ä–∞–≤–Ω–∞ 0 (–Ω–µ –ø–∞—É–∑–∞)
            buzzer.frequency = note  # –ò–∑–º–µ–Ω—è–µ–º —á–∞—Å—Ç–æ—Ç—É –ø–∏—â–∞–ª–∫–∏
        time.sleep(0.1)  # –î–µ–ª–∞–µ–º –Ω–µ–±–æ–ª—å—à—É—é –∑–∞–¥–µ—Ä–∂–∫—É (100 –º—Å) –º–µ–∂–¥—É –Ω–æ—Ç–∞–º–∏
